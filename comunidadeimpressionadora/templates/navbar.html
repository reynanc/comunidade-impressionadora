<!-- Navbar Moderna e Elegante -->
<nav class="navbar navbar-expand-lg navbar-dark shadow-lg" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); backdrop-filter: blur(10px);">
  <div class="container">
    <!-- Brand com estilo moderno -->
    <a class="navbar-brand fw-bold fs-4" href="{{ url_for('home') }}" style="color: #fff; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">
      <i class="fas fa-users me-2"></i>
      Comunidade Impressionadora
    </a>
    
    <!-- Botão toggle para mobile -->
    <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" 
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"
            style="box-shadow: none;">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <!-- Links principais -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item mx-1">
          <a class="nav-link px-3 py-2 rounded-pill transition-all" 
             href="{{ url_for('home') }}"
             style="color: rgba(255,255,255,0.9); transition: all 0.3s ease;"
             onmouseover="this.style.backgroundColor='rgba(255,255,255,0.2)'; this.style.color='#fff'; this.style.transform='translateY(-2px)'"
             onmouseout="this.style.backgroundColor='transparent'; this.style.color='rgba(255,255,255,0.9)'; this.style.transform='translateY(0)'">
            <i class="fas fa-home me-1"></i>
            Início
          </a>
        </li>
        <li class="nav-item mx-1">
          <a class="nav-link px-3 py-2 rounded-pill transition-all" 
             href="{{ url_for('usuarios') }}"
             style="color: rgba(255,255,255,0.9); transition: all 0.3s ease;"
             onmouseover="this.style.backgroundColor='rgba(255,255,255,0.2)'; this.style.color='#fff'; this.style.transform='translateY(-2px)'"
             onmouseout="this.style.backgroundColor='transparent'; this.style.color='rgba(255,255,255,0.9)'; this.style.transform='translateY(0)'">
            <i class="fas fa-users me-1"></i>
            Usuários
          </a>
        </li>
        <li class="nav-item mx-1">
          <a class="nav-link px-3 py-2 rounded-pill transition-all" 
             href="{{ url_for('contato') }}"
             style="color: rgba(255,255,255,0.9); transition: all 0.3s ease;"
             onmouseover="this.style.backgroundColor='rgba(255,255,255,0.2)'; this.style.color='#fff'; this.style.transform='translateY(-2px)'"
             onmouseout="this.style.backgroundColor='transparent'; this.style.color='rgba(255,255,255,0.9)'; this.style.transform='translateY(0)'">
            <i class="fas fa-envelope me-1"></i>
            Contato
          </a>
        </li>
      </ul>
      
      <!-- Menu do usuário -->
      <ul class="navbar-nav">
        {% if current_user.is_authenticated %}
          <!-- Dropdown do usuário logado -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle px-3 py-2 rounded-pill d-flex align-items-center" 
               href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false"
               style="color: rgba(255,255,255,0.9); transition: all 0.3s ease; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px);"
               onmouseover="this.style.backgroundColor='rgba(255,255,255,0.2)'; this.style.transform='translateY(-2px)'"
               onmouseout="this.style.backgroundColor='rgba(255,255,255,0.1)'; this.style.transform='translateY(0)'">
              <i class="fas fa-user-circle me-2 fs-5"></i>
              <span class="fw-medium">{{ current_user.username }}</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end shadow-lg border-0" 
                style="background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-radius: 15px; margin-top: 10px;">
              <li>
                <a class="dropdown-item py-2 px-3 rounded-3 mx-2 my-1" 
                   href="{{ url_for('criar_post') }}"
                   style="transition: all 0.3s ease;"
                   onmouseover="this.style.backgroundColor='#667eea'; this.style.color='white'; this.style.transform='translateX(5px)'"
                   onmouseout="this.style.backgroundColor='transparent'; this.style.color='#333'; this.style.transform='translateX(0)'">
                  <i class="fas fa-plus-circle me-2 text-primary"></i>
                  Criar Post
                </a>
              </li>
              <li>
                <a class="dropdown-item py-2 px-3 rounded-3 mx-2 my-1" 
                   href="{{ url_for('perfil') }}"
                   style="transition: all 0.3s ease;"
                   onmouseover="this.style.backgroundColor='#667eea'; this.style.color='white'; this.style.transform='translateX(5px)'"
                   onmouseout="this.style.backgroundColor='transparent'; this.style.color='#333'; this.style.transform='translateX(0)'">
                  <i class="fas fa-user-edit me-2 text-success"></i>
                  Meu Perfil
                </a>
              </li>
              <li><hr class="dropdown-divider mx-2" style="opacity: 0.3;"></li>
              <li>
                <a class="dropdown-item py-2 px-3 rounded-3 mx-2 my-1" 
                   href="{{ url_for('sair') }}"
                   style="transition: all 0.3s ease;"
                   onmouseover="this.style.backgroundColor='#dc3545'; this.style.color='white'; this.style.transform='translateX(5px)'"
                   onmouseout="this.style.backgroundColor='transparent'; this.style.color='#333'; this.style.transform='translateX(0)'">
                  <i class="fas fa-sign-out-alt me-2 text-danger"></i>
                  Sair
                </a>
              </li>
            </ul>
          </li>
        {% else %}
          <!-- Botões para usuários não logados -->
          <li class="nav-item mx-1">
            <a class="nav-link px-4 py-2 rounded-pill fw-medium" 
               href="{{ url_for('login') }}"
               style="color: rgba(255,255,255,0.9); border: 2px solid rgba(255,255,255,0.3); transition: all 0.3s ease;"
               onmouseover="this.style.backgroundColor='rgba(255,255,255,0.2)'; this.style.borderColor='rgba(255,255,255,0.6)'; this.style.transform='translateY(-2px)'"
               onmouseout="this.style.backgroundColor='transparent'; this.style.borderColor='rgba(255,255,255,0.3)'; this.style.transform='translateY(0)'">
              <i class="fas fa-sign-in-alt me-1"></i>
              Login
            </a>
          </li>
          <li class="nav-item mx-1">
            <a class="nav-link px-4 py-2 rounded-pill fw-medium" 
               href="{{ url_for('login') }}"
               style="background: linear-gradient(45deg, #fff, #f8f9fa); color: #667eea; border: 2px solid #fff; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(255,255,255,0.2);"
               onmouseover="this.style.transform='translateY(-3px) scale(1.05)'; this.style.boxShadow='0 8px 25px rgba(255,255,255,0.3)'"
               onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 4px 15px rgba(255,255,255,0.2)'">
              <i class="fas fa-user-plus me-1"></i>
              Criar Conta
            </a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<!-- Adicionar Font Awesome se não estiver incluído -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<!-- Estilos CSS adicionais -->
<style>
  .navbar {
    position: relative;
    z-index: 1000;
  }
  
  .navbar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
    backdrop-filter: blur(10px);
    z-index: -1;
  }
  
  .navbar-brand:hover {
    transform: scale(1.05);
    transition: transform 0.3s ease;
  }
  
  .dropdown-menu {
    animation: slideDown 0.3s ease;
  }
  
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Responsividade melhorada */
  @media (max-width: 991.98px) {
    .navbar-nav {
      padding: 1rem 0;
    }
    
    .nav-item {
      margin: 0.25rem 0;
    }
    
    .dropdown-menu {
      background: rgba(255,255,255,0.98) !important;
      border-radius: 10px;
      margin-top: 5px;
    }
  }
</style>
